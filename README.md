# 🏢 한화시스템 Beyond SW 16기 최종 프로젝트 — 2팀 Care-Up
<img width="1037" height="402" alt="image" src="https://github.com/user-attachments/assets/c59a4e51-6ef7-46ae-84aa-1ee22b2fb025" />

> 프랜차이즈 본사·가맹점 운영(근태, 발주/재고, 매출/정산)과 고객 쇼핑을 아우르는 ERP·커머스 통합 플랫폼
<br>

## 🙋🏻 팀원 소개

<table>
  <tr>
    <!-- 1행: 사진(클릭 가능) + 이름 -->
    <td align="center">
      <a href="https://github.com/imujinu" target="_blank">
        <img src="https://avatars.githubusercontent.com/u/138341044?v=4" width="100px;" alt="임진우"/>
      </a><br />
      <b>임진우</b>
    </td>
        <td align="center">
      <a href="https://github.com/dev-s3lim" target="_blank">
        <img src="https://avatars.githubusercontent.com/u/206555865?v=4" width="100px;" alt="임성후"/>
      </a><br />
      <b>임성후</b>
    </td>
    <td align="center">
      <a href="https://github.com/SeungJi20" target="_blank">
        <img src="https://avatars.githubusercontent.com/SeungJi20" width="100px;" alt="이승지"/>
      </a><br />
      <b>이승지</b>
    </td>
    <td align="center">
      <a href="https://github.com/chaserChoi" target="_blank">
        <img src="https://avatars.githubusercontent.com/chaserChoi" width="100px;" alt="최재혁"/>
      </a><br />
      <b>최재혁</b>
    </td>
    <td align="center">
      <a href="https://github.com/pure-wa" target="_blank">
        <img src="https://avatars.githubusercontent.com/pure-wa" width="100px;" alt="김상환"/>
      </a><br />
      <b>김상환</b>
    </td>
  </tr>
  <tr>
    <!-- 2행: GitHub 배지 -->
    <td align="center">
      <a href="https://github.com/imujinu" target="_blank">
        <img src="https://img.shields.io/badge/GitHub_Profile-181717?style=flat-square&logo=github&logoColor=white"/>
      </a>
    </td>
        <td align="center">
      <a href="https://github.com/dev-s3lim" target="_blank">
        <img src="https://img.shields.io/badge/GitHub_Profile-181717?style=flat-square&logo=github&logoColor=white"/>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/SeungJi20" target="_blank">
        <img src="https://img.shields.io/badge/GitHub_Profile-181717?style=flat-square&logo=github&logoColor=white"/>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/chaserChoi" target="_blank">
        <img src="https://img.shields.io/badge/GitHub_Profile-181717?style=flat-square&logo=github&logoColor=white"/>
      </a>
    </td>
    <td align="center">
      <a href="https://github.com/pure-wa" target="_blank">
        <img src="https://img.shields.io/badge/GitHub_Profile-181717?style=flat-square&logo=github&logoColor=white"/>
      </a>
    </td>
  </tr>
</table>

<br>

## 🎬 프로젝트 개요
  
### 01. 프로젝트 주제

#### 프랜차이즈 본사와 가맹점 간 투명한 상생을 위한 통합 ERP 및 이커머스 플랫폼

Care Up은 프랜차이즈 본사와 가맹점주 간의 신뢰 구축을 목표로, 투명한 정산 시스템과 통합 운영 관리를 제공하는 종합 비즈니스 솔루션입니다.

### 02. 프로젝트 소개
프랜차이즈 시장에서 본사와 가맹점주 간의 갈등은 끊임없이 발생합니다. 불투명한 정산 구조, 일방적인 정책 변경, 과도한 로열티 부담 등이 주요 문제점으로 지적되어 왔습니다.
Care Up은 이러한 문제를 해결하기 위해 기획된 프랜차이즈 상생 플랫폼입니다.

#### 실시간 매출 및 정산 내역 투명 공개 - 본사와 가맹점이 동일한 데이터를 실시간으로 확인
#### 지점별 자율 운영권 보장 - 지점별 상품 가격, 재고, 가격대 자율 설정 가능
#### 통합 이커머스 시스템 - 고객이 각 지점의 상품을 직접 주문하고 구매할 수 있는 플랫폼 제공
#### 공정한 로열티 산정 - 투명한 KPI 기반 자동 정산 시스템

### 03. 프로젝트 배경 및 필요성

**3-1. 프랜차이즈 시장의 성장과 관리 복잡성** 
국내 프랜차이즈 시장은 지속적으로 성장하고 있습니다. 공정거래위원회의 2024년 통계에 따르면 가맹본부 수는 8,802개, 전체 가맹점 수는 36만 5천개에 달하며, 가맹점 평균 매출액은 연간 3억 5천만원으로 전년 대비 3.9% 증가했습니다.
하지만 이러한 성장 이면에는 본사-가맹점 간 신뢰 문제가 존재합니다

https://www.korea.kr/briefing/pressReleaseView.do?newsId=156683272#goList
<img width="729" height="662" alt="스크린샷 2025-11-11 오후 6 52 40" src="https://github.com/user-attachments/assets/b8707647-a0b9-4938-bb19-ba36ef944439" />


정보 비대칭: 본사와 가맹점이 서로 다른 데이터를 보유하여 분쟁 발생
불투명한 정산: 로열티 산정 기준과 매출 집계 방식의 불명확성
영업지역 침해: 가맹계약 위반으로 인한 영업권 분쟁

한국공정거래조정원에서 운영하는 가맹사업거래분쟁조정협의회에는 정보공개서 미제공, 허위 매출 정보 제공, 가맹금 부당 수령, 영업지역 침해 등의 분쟁이 지속적으로 접수되고 있습니다.
    "우리 매장 매출은 나는데, 순이익은 왜 안 보이지?" - 가맹점주들의 공통된 고민


**3-2. 중소 프랜차이즈의 낮은 디지털 전환 수준**
디지털 전환은 현대 기업 경영의 필수 요소가 되었지만, 중소기업의 ERP 도입률은 16.3%로 대기업(95.5%)과 중견기업(52.1%)에 비해 현저히 낮은 수준입니다. 
통계청 자료에 따르면 2017년 8.6%에 불과했던 전체 기업의 ERP 도입률이 2018년 12.4%로 증가하는 등 디지털 전환에 대한 인식은 확산되고 있으나, 여전히 많은 중소 프랜차이즈는 다음과 같은 문제에 직면해 있습니다
<img width="751" height="338" alt="스크린샷 2025-11-11 오후 7 02 13" src="https://github.com/user-attachments/assets/02c1fff0-67a4-40d8-a7e8-8b8647418277" />

#### 수기 또는 엑셀 기반 관리: 본사-지점 간 데이터 동기화가 실시간으로 이루어지지 않음
#### 레거시 시스템 의존: 노후화된 시스템으로 인한 확장성 및 유지보수 어려움
#### 데이터 분석 미흡: 고객 구매 패턴 분석 및 예측 불가
#### 이커머스 부재: 온라인 주문 시스템 없이 오프라인 매장에만 의존

### 필요성: 실시간 데이터 기반 의사결정과 고객 경험 향상을 위한 통합 디지털 플랫폼 구축 시급


### 04. 프로젝트 주요 기능
#### 본사 관리 기능

통합 대시보드: 전체 지점 매출, KPI, 재고 현황 실시간 모니터링
상품 관리: 카테고리별 상품 분류, 프로모션 설정 및 본사 승인 프로세스
정산 관리: 자동 로열티 계산 및 투명한 정산 내역 공개
가맹점 평가: KPI 기반 객관적 평가 시스템

#### 가맹점 관리 기능

지점별 자율 운영: 상품 가격 조정, 재고 관리, 로컬 프로모션 설정
매출 분석: 시간대별/상품별/고객층별 매출 분석 및 예측
직원 관리: 근태 관리, 스케줄 작성, 급여 계산
발주 시스템: 원클릭 재고 발주 및 입출고 자동 기록

#### 고객 이용 기능

지점별 상품 조회: 위치 기반 가까운 지점 탐색 및 지점별 상품/가격 비교
통합 장바구니: 하나의 지점에서 간편하게 주문
결제 시스템: Toss Payments 연동으로 안전한 결제
단골 고객 혜택: 구매 금액별 자동 등급 상향 및 맞춤형 쿠폰 제공

#### 소통 기능

상품 문의: 상품별 Q&A 및 실시간 답변
채팅 시스템: 본사-가맹점, 고객-가맹점 간 실시간 소통
리뷰 관리: 구매 후기 작성 및 평점 시스템

### 05.  기술적 차별화

#### MSA 아키텍처: 10개의 독립된 마이크로서비스로 구성되어 확장성과 유지보수성 극대화

회원 관리, 지점 관리, 상품 관리, 재고 관리, 주문/결제, 매출/정산, 고객 관리, 소통, 근태, 알림 서비스
실시간 데이터 동기화: Kafka 기반 이벤트 스트리밍으로 모든 서비스 간 데이터 실시간 공유
지점별 커스터마이징: 중앙 통제(branch_id=0)와 지점 자율성(branch_id>0)의 균형 있는 아키텍처 설계

본사는 전체 정책 관리, 각 지점은 가격/재고/프로모션 자율 설정

#### 비즈니스 차별화

투명성 우선: 모든 정산 로직과 계산 근거를 본사/가맹점 양측에 동일하게 공개
상생 모델: 가맹점 매출 향상이 곧 본사 이익으로 연결되는 Win-Win 구조
데이터 기반 의사결정: 실시간 매출 분석 및 AI 기반 수요 예측으로 과학적 경영 지원
통합 이커머스: 오프라인 매장뿐만 아니라 온라인 주문 채널 확보로 매출 다각화

### 06. 기대효과


#### 본사 측면
관리 효율성 증대: 통합 대시보드를 통한 실시간 모니터링으로 의사결정 시간 단축
분쟁 비용 감소: 투명한 데이터 공개로 정산 관련 분쟁 발생률 감소
브랜드 가치 상승: 공정하고 투명한 프랜차이즈로서의 이미지 제고
데이터 기반 전략 수립: 전체 지점 데이터 분석을 통한 최적화된 본사 정책 수립

#### 가맹점 측면

수익성 향상: 실시간 데이터 기반 운영 최적화 및 온라인 채널 확보로 매출 증대
운영 자율성 확보: 지역 특성에 맞는 맞춤형 운영 전략 수립 가능
신뢰 기반 협력: 본사와의 투명한 정산으로 장기적 파트너십 강화
업무 효율화: 자동화된 재고 관리, 발주, 정산으로 운영 부담 경감

#### 고객 측면

이용 편의성: 통합 플랫폼에서 원하는 지점의 상품을 한 번에 주문
가격 투명성: 지점별 가격 비교로 합리적 소비 가능
개인화 혜택: 구매 이력 기반 맞춤형 프로모션 및 단골 고객 혜택
신뢰할 수 있는 거래: 안전한 결제 시스템 및 구매 후기를 통한 정보 공유
### 07. 향후 계획

모바일 앱 출시: 고객용 iOS/Android 네이티브 앱 개발 (React Native)
배달 시스템 연동: 배달 파트너사 API 연동으로 배달 주문 처리 기능 추가
고급 분석 대시보드: 예상 매출, 재고 최적화, 고객 세그먼트 분석 기능 강화

<br>

## ⚙️🛠️ Technical Stack

### 🎯 Frontend

<a href="https://ko.react.dev/" target="_blank"><img src="https://img.shields.io/badge/react-%2320232a.svg?style=for-the-badge&logo=react&logoColor=%2361DAFB" alt="react"></a>
<a href="https://developer.mozilla.org/ko/docs/Web/JavaScript" target="_blank"><img src="https://img.shields.io/badge/javascript-%23323330.svg?style=for-the-badge&logo=javascript&logoColor=%23F7DF1E" alt="JavaScript"></a>
<a href="https://www.typescriptlang.org/" target="_blank"><img src="https://img.shields.io/badge/typescript-%23007ACC.svg?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript"></a>
<a href="https://redux.js.org/" target="_blank"><img src="https://img.shields.io/badge/redux-%23593d88.svg?style=for-the-badge&logo=redux&logoColor=white" alt="Redux"></a>
<a href="https://www.npmjs.com/" target="_blank"><img src="https://img.shields.io/badge/NPM-%23CB3837.svg?style=for-the-badge&logo=npm&logoColor=white" alt="NPM"></a>
<a href="https://ko.vite.dev/" target="_blank"><img src="https://img.shields.io/badge/vite-%23646CFF.svg?style=for-the-badge&logo=vite&logoColor=white" alt="Vite"></a>
<a href="https://eslint.org/" target="_blank"><img src="https://img.shields.io/badge/ESLint-4B3263?style=for-the-badge&logo=eslint&logoColor=white" alt="ESLint"></a>
<a href="https://prettier.io/" target="_blank"><img src="https://img.shields.io/badge/prettier-%23F7B93E.svg?style=for-the-badge&logo=prettier&logoColor=black" alt="Prettier"></a>
<a href="https://styled-components.com/" target="_blank"><img src="https://img.shields.io/badge/styled--components-DB7093?style=for-the-badge&logo=styled-components&logoColor=white" alt="Styled Components"></a>
<a href="https://axios-http.com/kr/" target="_blank"><img src="https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white" alt="axios"></a>
<a href="https://ant.design/" target="_blank"><img src="https://img.shields.io/badge/-AntDesign-%230170FE?style=for-the-badge&logo=ant-design&logoColor=white" alt="ant-design"></a>

### 🚀 Backend
<a href="https://spring.io/" target="_blank"><img src="https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white" alt="Spring"></a>
<a href="https://spring.io/projects/spring-boot" target="_blank"><img src="https://img.shields.io/badge/springboot-%236DB33F.svg?style=for-the-badge&logo=springboot&logoColor=white" alt="Spring Boot"></a>
<a href="https://spring.io/projects/spring-security" target="_blank"><img src="https://img.shields.io/badge/springsecurity-%236DB33F.svg?style=for-the-badge&logo=springsecurity&logoColor=white" alt="Spring Security"></a>
<a href="https://spring.io/projects/spring-ai" target="_blank"><img src="https://img.shields.io/badge/spring_ai-%236DB33F.svg?style=for-the-badge&logo=spring&logoColor=white" alt="Spring AI"></a>
<a href="https://www.java.com/ko/" target="_blank"><img src="https://img.shields.io/badge/java-%23ED8B00.svg?style=for-the-badge&logo=openjdk&logoColor=white" alt="Java"></a>
<a href="https://hibernate.org/" target="_blank"><img src="https://img.shields.io/badge/Hibernate-59666C?style=for-the-badge&logo=Hibernate&logoColor=white" alt="Hibernate(Spring Data JPA)"></a>
<a href="https://www.jwt.io/" target="_blank"><img src="https://img.shields.io/badge/JWT-black?style=for-the-badge&logo=JSON%20web%20tokens" alt="JWT"></a>
<a href="" target="_blank"><img src="https://img.shields.io/badge/Websocket-ffffff?style=for-the-badge&logo=Websocket&logoColor=black"></a>
<a href="https://kafka.apache.org/" target="_blank"><img src="https://img.shields.io/badge/Apache%20Kafka-000?style=for-the-badge&logo=apachekafka" alt="Apache Kafka"></a>
<a href="https://qdrant.tech/" target="_blank"><img src="https://img.shields.io/badge/qdrant-DC244C?style=for-the-badge&logo=Qdrant" alt="Apache Kafka"></a>
<a href="https://grafana.com/" target="_blank"><img src="https://img.shields.io/badge/grafana-%23F46800.svg?style=for-the-badge&logo=grafana&logoColor=white" alt="Grafana"></a>
<a href="https://prometheus.io/" target="_blank"><img src="https://img.shields.io/badge/Prometheus-E6522C?style=for-the-badge&logo=Prometheus&logoColor=white" alt="Prometheus"></a>

### 🚀 Deployment & DevOps
<a href="https://aws.amazon.com/ko/free/?trk=16226f0d-f47c-400c-b29a-a04ba84bb653&sc_channel=ps&ef_id=Cj0KCQiAq7HIBhDoARIsAOATDxCmSfO8jcqr-xtiyTNxPiMGuhN-_sWVGOFXrUzJqOnAs0o2HUF628caAmDqEALw_wcB:G:s&s_kwcid=AL!4422!3!563761819834!e!!g!!aws!15286221779!129400439466&gad_campaignid=15286221779&gbraid=0AAAAADjHtp8MHsR3ffoIK23avqmtQzPT_&gclid=Cj0KCQiAq7HIBhDoARIsAOATDxCmSfO8jcqr-xtiyTNxPiMGuhN-_sWVGOFXrUzJqOnAs0o2HUF628caAmDqEALw_wcB" target="_blank"><img src="https://img.shields.io/badge/AWS-%23FF9900.svg?style=for-the-badge&logo=amazon-aws&logoColor=white" alt="aws"></a>
<a href="https://aws.amazon.com/ko/pm/serv-s3/?trk=79847b79-e235-4b5f-9c96-adb27fcf436b&sc_channel=ps&ef_id=Cj0KCQiAq7HIBhDoARIsAOATDxCeKv-z373xYnyNhcekN_d1eKy4tcjeLNgqCR2MRFLPVP-F-v6o23MaAmSzEALw_wcB:G:s&s_kwcid=AL!4422!3!588924203916!e!!g!!aws%20s3!16390143117!134236388536&gad_campaignid=16390143117&gbraid=0AAAAADjHtp-fvoI-9CzOOUxj7kXZ7FfXY&gclid=Cj0KCQiAq7HIBhDoARIsAOATDxCeKv-z373xYnyNhcekN_d1eKy4tcjeLNgqCR2MRFLPVP-F-v6o23MaAmSzEALw_wcB" target="_blank"><img src="https://img.shields.io/badge/Amazon%20S3-FF9900?style=for-the-badge&logo=amazons3&logoColor=white" alt="AWS S3"></a>
<a href="https://docs.github.com/ko/actions" target="_blank"><img src="https://img.shields.io/badge/github%20actions-%232671E5.svg?style=for-the-badge&logo=githubactions&logoColor=white" alt="Github Action"></a>
<a href="https://www.docker.com/" target="_blank"><img src="https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white" alt="Docker"></a>
<a href="https://www.docker.com/" target="_blank"><img src="https://img.shields.io/badge/kubernetes-%23326ce5.svg?style=for-the-badge&logo=kubernetes&logoColor=white" alt="Kubernetes"></a>

### 💽 DB
<a href="https://mariadb.org/" target="_blank"><img src="https://img.shields.io/badge/MariaDB-003545?style=for-the-badge&logo=mariadb&logoColor=white" alt="MariaDB"></a>
<a href="https://redis.io/" target="_blank"><img src="https://img.shields.io/badge/redis-%23DD0031.svg?style=for-the-badge&logo=redis&logoColor=white" alt="Redis"></a>
<a href="https://www.elastic.co/kr/" target="_blank"><img src="https://img.shields.io/badge/elasticsearch-%230377CC.svg?style=for-the-badge&logo=elasticsearch&logoColor=white" alt="Elasticsearch"></a>
<a href="https://www.elastic.co/kibana" target="_blank"><img src="https://img.shields.io/badge/kibana-%23005571.svg?style=for-the-badge&logo=kibana&logoColor=white" alt="Kibana"></a>

### 🛠️ Tool
<a href="https://www.jetbrains.com/idea/" target="_blank"><img src="https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white" alt="intelliJ"></a>
<a href="https://code.visualstudio.com/" target="_blank"><img src="https://img.shields.io/badge/Visual%20Studio%20Code-0078d7.svg?style=for-the-badge&logo=visual-studio-code&logoColor=white" alt="Visual Studio Code"></a>
<a href="https://cursor.com/" target="_blank"><img src="https://img.shields.io/badge/Cursor-000.svg?style=for-the-badge&logo=cursor&logoColor=black" alt="Cursor"></a>
<a href="https://chatgpt.com/" target="_blank"><img src="https://img.shields.io/badge/chatGPT-74aa9c?style=for-the-badge&logo=openai&logoColor=white" alt="ChatGPT"></a>
<a href="https://gemini.google.com/" target="_blank"><img src="https://img.shields.io/badge/google%20gemini-8E75B2?style=for-the-badge&logo=google%20gemini&logoColor=white" alt="Google Gemini"></a>
<a href="https://www.notion.so/" target="_blank"><img src="https://img.shields.io/badge/Notion-%23000000.svg?style=for-the-badge&logo=notion&logoColor=white" alt="Notion"></a>


## 📂 산출물

### WBS

<a href='https://docs.google.com/spreadsheets/d/1vdBJm-jEBpxN1ISfJjKrhP7lDmLZn2BtD2mFcSh8DDs/edit?gid=0#gid=0' style="text-decoration: none; color: inherit;">📄 WBS 바로가기</a>

[WBS 스크린샷 이미지 삽입]

### 요구사항 명세서

<a href='https://docs.google.com/spreadsheets/d/1vdBJm-jEBpxN1ISfJjKrhP7lDmLZn2BtD2mFcSh8DDs/edit?gid=1298947418#gid=1298947418' style="text-decoration: none; color: inherit;">📄 요구사항 명세서 바로가기</a>

[요구사항 명세서 스크린샷 이미지 삽입]

### ERD

<a href='https://www.erdcloud.com/d/SCWgToHZ4eQx4Y3Pg' style="text-decoration: none; color: inherit;">📄 ERD 바로가기</a>

[ERD 이미지 삽입]

### 프로젝트 기획서 및 API명세서 

- <a href='https://documenter.getpostman.com/view/48691546/2sB3QQH7M6' style="text-decoration: none; color: inherit;">📄 Ordering 서비스 명세서 바로가기</a><br/>

- <a href='https://documenter.getpostman.com/view/48691546/2sB3QQH7M3' style="text-decoration: none; color: inherit;">📄 Branch 서비스 바로가기</a>

### 피그마

  <a href='https://www.figma.com/design/KFWHtTRfOvJ7kE1tsQruIg/Care-up?node-id=0-1&p=f&t=5nfn03si2tQ24Hv9-0' style="text-decoration: none; color: inherit;">🎨 피그마 바로가기</a>

### 시스템 아키텍처
  [시스템 아키텍처 다이어그램 이미지 삽입]


## 🧾 화면 테스트 결과
  
### 관리자
<details>
    <summary>[관리자 기능 1 : 대시보드 조회]</summary>
      [본점]
      <img src="https://github.com/user-attachments/assets/bbde03d7-a786-4bcf-9ea2-a27a95fed6ab" alt="본사 대시보드 조회" width="800"/>
      [지점]
      <img src="https://github.com/user-attachments/assets/876df726-1c3c-432e-a8eb-96b8f4af706b" alt="지점 대시보드 조회" width="800"/>
</details>
<details>
    <summary>[관리자 기능 2: 관리자 로그인]</summary>
     <img src="https://github.com/user-attachments/assets/d1c3fb0e-0345-4b94-8a92-93ddb492913b" width="100px;"/>
</details>
<details>
    <summary>[관리자 기능 3: 관리자 직원 등록]</summary>
     <img src="https://github.com/user-attachments/assets/b404e61a-c9c0-4f8f-af9d-f37b4260c152" width="100px;"/>
</details>
<details>
    <summary>[관리자 기능 3: 관리자 직원 수정]</summary>
     <img src="https://github.com/user-attachments/assets/b9e739b6-409e-4b93-817f-6d55d2b338fd" width="100px;"/>
</details>
<details>
    <summary>[관리자 기능 4: 관리자 직원 비활성화]</summary>
     <img src="https://github.com/user-attachments/assets/8d7046e9-9eeb-4a34-b260-da5c8e99cbf0" width="100px;"/>
</details>
<details>
    <summary>[관리자 기능 5: 본사 관리자의 근무 스케줄 등록]</summary>
    <img src="https://github.com/user-attachments/assets/a5d7a7bd-9c52-4fe9-97a2-de8edd4128d4" alt="본사 관리자의 스케쥴 등록" width="800"/>
</details>
<details>
    <summary>[관리자 기능 6: 스케줄 등록된 직원의 모바일 앱 출퇴근]</summary>
    <img src="https://github.com/user-attachments/assets/21a03296-391a-4e5d-bd1a-1d17489abedd" alt="스케줄 등록된 직원의 모바일 앱 출퇴근" width="800"/>
</details>

<details>
    <summary><h3>[지점 관리]</h3></summary>
  
<details>
  <summary><h3>지점 관리 Main</h3></summary>

##### 지점 목록 조회 - 본사 관리자
  ![20251111-0205-49 4237460](https://github.com/user-attachments/assets/a3650489-e379-4dc7-ad76-755874cc6020)

##### 조회할 지점 목록 필드 지정 - 본사 관리자
  ![20251111-0210-06 5265489](https://github.com/user-attachments/assets/922c58ac-7328-4902-b292-70cf33c760fd)

##### 지점 검색 -> 이미지 다시 수정할 것 - 본사 관리자
  ![20251111-0207-31 9757478](https://github.com/user-attachments/assets/5af03d0c-599d-4b12-aaef-02ec320627a1)

##### 지점 목록 엑셀로 내보내기 - 본사 관리자
  <img width="1920" height="1020" alt="image" src="https://github.com/user-attachments/assets/53f646f7-aaad-4543-9418-f0940b0ba485" />

##### 특정 지점 대시보드 조회 - 관리자 전체
![20251111-0240-40 7587398](https://github.com/user-attachments/assets/2ab06ab7-8c9f-47cb-a258-f044e5399626)

##### 소속 지점 상세 정보 - 직영점/가맹점 관리자
![20251111-0603-54 7318277](https://github.com/user-attachments/assets/1ffe9230-5639-42f4-85ba-8334dd00bc96)

##### 소속 지점 수정 요청 (본사 관리자에게 요청 전달) - 직영점/가맹점 관리자
![20251111-0608-37 4702338](https://github.com/user-attachments/assets/d61e75a6-8822-4a6f-ac32-1e25f4ead856)
![20251111-0612-47 9606465](https://github.com/user-attachments/assets/414e8a0b-d04e-457f-95bd-56b2f35fc5a1)

##### 지점 수정 요청 확인
<img width="1920" height="1020" alt="image" src="https://github.com/user-attachments/assets/ab22bca4-f906-43f9-b992-b3c13a34562b" />

##### 지점 수정 요청 상세보기 - 본사 관리자
![20251111-0835-02 6504066](https://github.com/user-attachments/assets/9a422bc7-0f08-41ef-b2ea-49d8f6c02336)

##### 지점 수정 요청 승인 - 본사 관리자
![20251111-0835-49 1766108](https://github.com/user-attachments/assets/21ac8b9c-e195-4796-a92b-38182c610c5f)

</details>
<details>
  <summary><h3>직원 관리 - 본사 관리자, 직영점/가맹점 관리자 권한</h3></summary>
  
##### 소속 직원 목록 조회
![20251111-0243-43 7609212](https://github.com/user-attachments/assets/3df2e9b6-4a2a-4f50-ae29-3da30dc00d24)

##### 소속 직원 추가
![20251111-0320-44 0507901](https://github.com/user-attachments/assets/1ea304ef-e8c0-4164-8a82-30192bb46ecb)

##### 소속 직원 상세 정보 
![20251111-0321-33 4479254](https://github.com/user-attachments/assets/9bc8151a-e294-49ed-8ff6-b9e485d06713)

##### 소속 직원 정보 수정
![20251111-0324-41 2336952](https://github.com/user-attachments/assets/1ff898d1-648a-4513-a7b1-5a7f79c6d8ab)
<img width="1556" height="348" alt="image" src="https://github.com/user-attachments/assets/f5b74dda-49c5-4089-bad4-d6c00be2ee14" />
<img width="660" height="443" alt="image" src="https://github.com/user-attachments/assets/5c2bf1d5-93e3-4bbe-9fa3-b15feaa9fd35" />

##### 소속 직원 정보 삭제 - Soft delete
![20251111-0326-33 6712778](https://github.com/user-attachments/assets/9b2856c2-ef17-4e63-bcfe-5bedf4d56120)

##### 소속 지점 퇴사자 재입사 처리
![20251111-0327-47 2203659](https://github.com/user-attachments/assets/50b3fb81-9d37-4f74-a6df-3c39d7cd3472)

</details>
<details>
  <summary><h3>계약 서류 관리 - 본사 관리자, 직영점/가맹점 관리자 권한</h3></summary>

#### 계약 서류 업로드
![20251111-0331-18 0262269](https://github.com/user-attachments/assets/d711497b-53e3-4d65-b677-2d11212a327b)
![20251111-0800-32 3592140](https://github.com/user-attachments/assets/17d49ba0-0877-4821-be10-7cae06bf46c7)

#### 계약 서류 인쇄 및 다운로드
![20251111-0801-25 2096163](https://github.com/user-attachments/assets/7d565f9c-96b3-4438-a501-5db7ea16390f)

#### 계약 서류 수정
![20251111-0801-55 2631150](https://github.com/user-attachments/assets/0e1bf113-8dd3-4b1d-92bc-7655fba4402b)
![20251111-0802-40 0454273](https://github.com/user-attachments/assets/c44d260c-e124-41c9-87da-2ab5bcff0994)

#### 계약 서류 삭제
![20251111-0803-08 9783566](https://github.com/user-attachments/assets/3ba15899-60c0-4668-a9c0-1571cd9ace16)

</details>
<details>
  <summary><h3>고객 관리</h3></summary>

#### 단골 고객 등록 
![20251111-0331-18 0262269](https://github.com/user-attachments/assets/d711497b-53e3-4d65-b677-2d11212a327b)

</details>
</details>

<details>
    <summary><h3>[매출 리포트]</h3></summary>

#### 전체 매출 조회
![20251111-0444-24 9868221](https://github.com/user-attachments/assets/43c012dd-3d2f-42d7-baed-99974d01caff)
![20251111-0447-22 7226255](https://github.com/user-attachments/assets/764a5bbb-2088-4996-ba0a-796f3af934b3)

#### 지점 상세 매출 조회
![20251111-0448-35 8572284](https://github.com/user-attachments/assets/8ed43a1e-1257-4839-a3bd-d9cea93c9143)
![20251111-0449-06 6084060](https://github.com/user-attachments/assets/8b2edcac-dc62-4b75-b807-69d2015cac25)

#### 지점 매출 비교
![20251111-0450-50 0768976](https://github.com/user-attachments/assets/45aae873-d41f-4bf8-83e6-523b862e9c50)

#### 각 매출 리포트 엑셀 다운로드
##### 전체 매출 엑셀
![20251111-0535-42 4373400](https://github.com/user-attachments/assets/25fa8a90-7359-40c9-84cc-01f1421c4ba6)
<img width="1423" height="732" alt="image" src="https://github.com/user-attachments/assets/0b429324-fa83-46d0-9e29-8f189dd1fffc" />

##### 지점 상세 매출 엑셀
![20251111-0551-57 5846559](https://github.com/user-attachments/assets/a57bccef-e69a-4518-9361-e4b4494dbc89)
<img width="1423" height="732" alt="image" src="https://github.com/user-attachments/assets/8ec840c7-8ecc-4c44-a6a5-02301e05e699" />

##### 지점 매출 비교 엑셀
![20251111-0555-10 3076604](https://github.com/user-attachments/assets/ec61b46a-7643-4043-8f85-5895376a1304)
<img width="1423" height="732" alt="image" src="https://github.com/user-attachments/assets/fb89a7b7-8008-42db-8dae-9f2d9f5f20a5" />

</details>
</details>

### 주문
<details>
    <summary>[주문 기능 1: 회원 상품 주문]</summary>
        <img src="https://github.com/user-attachments/assets/e1687e60-c559-499a-b014-aeb7eb094e19" alt="회원 상품 주문" width="800"/>
        <img src="https://github.com/user-attachments/assets/6e767d12-568a-45e2-af35-595f034cd2e6" alt="회원 장바구니 통한 주문" width="800"/>  
</details>
<details>
    <summary>[주문 기능 2: 본점 주문 관리 상세 승인]</summary>
  <img src="https://github.com/user-attachments/assets/4a90f815-0208-4603-80d9-e38988dbd461" alt="지점주문관리 상세승인" width="800"/>  
</details>
<details>
    <summary>[주문 기능 3: 본점 주문 관리 상세 거부]</summary>
  <img src="https://github.com/user-attachments/assets/ee4ea81d-9122-4fdc-8bcb-1f4fc5ddba27" alt="지점주문관리 상세거부" width="800"/> 
</details>


### 재고
<details>
    <summary>[재고 기능]</summary>
<details>
    <summary>[재고 기능 1: 본사 재고 등록]</summary>
    <img src="https://github.com/user-attachments/assets/c8f93ea5-57cb-43aa-88b3-6a7b3abdfc57" alt="본사 재고 등록" width="800"/>
</details>
<details>
    <summary>[재고 기능 2: 본사 재고 수정]</summary>
    <img src="https://github.com/user-attachments/assets/042ab96b-8010-479c-a388-9ba7f5a2105e" alt="본사 재고 수정" width="800"/>
</details>
<details>
    <summary>[재고 기능 3: 본사 재고 상세]</summary>
    <img src="https://github.com/user-attachments/assets/6cd94398-2544-43ab-940f-c673a9e3a76d" alt="본사 재고 상세" width="800"/>
    [스크린샷 이미지 삽입]
</details>
<details>
    <summary>[재고 기능 3: 본사 재고 삭제]</summary>
  <img src="https://github.com/user-attachments/assets/d4e13fe6-b07b-4db8-8bf2-76b30a48c6ff" alt="본사 재고 삭제" width="800"/>
</details>
  <details>
    <summary>[재고 기능 4: 본사 입출고 기록 등록]</summary>
    <img src="https://github.com/user-attachments/assets/8eadb3e0-d6a5-485d-af93-22ff6fe2dc25" alt="본사 입출고 기록 등록" width="800"/>
</details>
  <details>
    <summary>[재고 기능 5: 본사 입출고 기록 수정]</summary>
    <img src="https://github.com/user-attachments/assets/525e3de9-5d8b-4e02-93f5-a93ef0755c3a" alt="본사 입출고 기록 수정" width="800"/>
</details>
   <details>
    <summary>[재고 기능 6: 본사 입출고 기록 삭제]</summary>
    <img src="https://github.com/user-attachments/assets/c310a1b1-b034-4cae-94a7-2ade76e28802" alt="본사 입출고 기록 삭제" width="800"/>
</details>
  <details>
    <summary>[재고 기능 7: 지점 지점에 상품 추가]</summary>
    <img src="https://github.com/user-attachments/assets/e3d59a33-d169-4837-85d8-6b3875bbf7f6" alt="지점 지점에 상품 추가" width="800"/>
</details>
</details>

### 발주
<details>
    <summary>[발주 기능]</summary>
<details>
    <summary>[발주 기능 1: 본사 발주 조회]</summary>
  <img src="https://github.com/user-attachments/assets/2518425e-8fd2-4c38-aa63-19c9f1581f02" alt="본사 발주 조회" width="800"/>
</details>
<details>
    <summary>[발주 기능 2: 본사 발주 상세 조회]</summary>
    <img src="https://github.com/user-attachments/assets/a8d11fed-e63e-4647-ab8c-984d4b162f18" alt="본사 발주 상세 조회" width="800"/>
</details>
<details>
    <summary>[재고 기능 3: 지점 발주 요청]</summary>
  <img src="https://github.com/user-attachments/assets/64a6f5ce-888c-4079-9910-60938377b569" alt="본사 발주 상세 조회" width="800"/>
</details>
<details>
    <summary>[발주 기능 3: 발주 대기, 승인, 배송중, 부분승인, 반려]</summary>
    <img src="https://github.com/user-attachments/assets/8fb47e1d-dacf-4a2b-b638-66ef438095c6" alt="발주 대기,승인,배송중,부분승인,반려" width="800"/>
</details>
  <details>
    <summary>[발주 기능 4: 발주 전체 엑셀 다운로드]</summary>
    <img src="https://github.com/user-attachments/assets/ccff59ea-73ae-4c0f-b7d3-4725756b4a29" alt="본사 발주 전체 엑셀 다운로드" width="800"/>
</details>
  <details>
    <summary>[발주 기능 5: 발주 단건 엑셀 다운로드]</summary>
    <img src="https://github.com/user-attachments/assets/f444042e-9119-4991-b2a9-10efeb2db9e3" alt="본사 발주 단걸 엑셀 다운로드" width="800"/>
</details>
</details>

### 회원
<details>
    <summary>[회원 기능 1: 고객 회원가입]</summary>
    <img src="https://github.com/user-attachments/assets/3f63320a-ac7c-4621-81cd-cd94253964a8" alt="고객 일반 회원가입" width="800"/>
</details>
<details>
    <summary>[회원 기능 1: 고객 일반 로그인]</summary>
  <img src="https://github.com/user-attachments/assets/55e4ae9e-daea-4f99-8f66-d3502961e312" alt="고객 일반 로그인" width="800"/>
</details>
<details>
    <summary>[회원 기능 2: 고객 간편 로그인(카카오)]</summary>
    <img src="https://github.com/user-attachments/assets/24b1f2c0-fee2-4adc-8a01-c1eeb0680e76" alt="고객 카카오 로그인" width="800"/>
</details>
<details>
    <summary>[회원 기능 3: 고객 간편 로그인(구글)]</summary>
      <img src="https://github.com/user-attachments/assets/ee02aa97-2878-44c2-aab4-c2ecd5b21a3a" alt="고객 카카오 로그인" width="800"/>
</details>
  
### 챗봇

<details>
    <summary>[챗봇 기능 1 - 근태 ]</summary>
<details>
    <summary>[근태 - 일일 근태 조회]</summary>
    
![Adobe Express - 챗봇 - 근태 조회](https://github.com/user-attachments/assets/5ef91538-71e2-4b23-922d-5d3ad59ef33a)

</details>
<details>
    <summary>[근태 - 전체 직원 조회]</summary>
  
![Adobe Express - 챗봇 - 전체 직원 근태](https://github.com/user-attachments/assets/96016324-6bc7-4435-bac8-8cab43121f2f)
    
</details>
<details>
    <summary>[근태 - 특정 직원 조회]</summary>
  
![Adobe Express - 챗봇 - 상세 직원 조회](https://github.com/user-attachments/assets/8d964e35-8dbf-44f9-b643-17d8913d0c84)
    
</details>
<details>
    <summary>[근태 - 근태 수정]</summary>
  
![Adobe Express - 챗봇 - 근태 수정 (1)](https://github.com/user-attachments/assets/f7c7809d-2393-4612-b569-d0dd8d9e2d41)
    
</details>
</details>

<details>
    <summary>[챗봇 기능 2 - 재고]</summary>

<details>
    <summary>[재고 - 전체 재고 조회 ]</summary>
  
![Adobe Express - 챗봇 - 재고 전체조회](https://github.com/user-attachments/assets/0029c8b8-bea3-4a76-aa2a-5338975ec4d1)
    
</details>
<details>
    <summary>[재고 - 재고 수정]</summary>
  
![Adobe Express - 챗봇 - 재고 수정](https://github.com/user-attachments/assets/777b712c-30e4-469d-81a1-cc5081ec1346)

  
</details>

<details>
    <summary>[재고 - 회전율 조회]</summary>
  
![챗봇 - 회전율 조회](https://github.com/user-attachments/assets/b89b51f7-76a5-43c9-ba50-b27bdc1733e7)

</details>  
</details>

<details>
    <summary>[챗봇 기능 3 - 발주]</summary>

<details>
    <summary>[발주 - 발주 전체 조회 ]</summary>
  
![Adobe Express - 챗봇 - 발주 전체조회](https://github.com/user-attachments/assets/ae38d157-0eff-4f4d-9e52-e4758a6f47cc)

    
</details>
<details>
    <summary>[발주 - 발주 요청]</summary>
  
![Adobe Express - 챗봇 - 발주 요청](https://github.com/user-attachments/assets/0b6e1c73-b042-4165-9a14-db606d8fa841)

  
</details>

<details>
    <summary>[발주 - 발주 추천]</summary>
  
![Adobe Express - 챗봇 - 발주 추천](https://github.com/user-attachments/assets/1fccd367-e717-47f2-b9e5-39d98a331da0)

    
</details>     

</details>

### 알림
<details>
    <summary>[알림]</summary>

<details>
    <summary>[알림 기능 - 생성]</summary>
  
![Adobe Express - 알림 - 생성](https://github.com/user-attachments/assets/b27f267e-eeb5-4185-ab3e-3c5f550d57e4)

</details>

<details>
    <summary>[알림 기능 - 읽음 및 삭제]</summary>
  
![Adobe Express - 알림 - 읽음 및 삭제](https://github.com/user-attachments/assets/3088d425-fe16-4968-83a3-518374a3263b)

</details>

</details>



## 🛠️ 트러블 슈팅

### 임진우

<details>
    <summary><b>[트러블 슈팅 1: 문제 요약]</b></summary>

  ### 🔎 발생 이슈
  - [발생한 문제점에 대해 서술해 주세요.]

  ### 🧩 원인 분석
  - [문제의 원인을 분석한 내용을 서술해 주세요.]

  ### 🛠️ 해결 방법
  - [문제를 해결한 과정을 순서대로 서술해 주세요.]

  ### ✅ 최종 결과
  - [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

  </details>

<details>
    <summary><b>[트러블 슈팅 2: 문제 요약]</b></summary>

  ### 🔎 발생 이슈
  - [발생한 문제점에 대해 서술해 주세요.]

  ### 🧩 원인 분석
  - [문제의 원인을 분석한 내용을 서술해 주세요.]

  ### 🛠️ 해결 방법
  - [문제를 해결한 과정을 순서대로 서술해 주세요.]

  ### ✅ 최종 결과
  - [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>

<details>
    <summary><b>[트러블 슈팅 3: 문제 요약]</b></summary>

  ### 🔎 발생 이슈
  - [발생한 문제점에 대해 서술해 주세요.]

  ### 🧩 원인 분석
  - [문제의 원인을 분석한 내용을 서술해 주세요.]

  ### 🛠️ 해결 방법
  - [문제를 해결한 과정을 순서대로 서술해 주세요.]

  ### ✅ 최종 결과
  - [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>

### 임성후

<details>
    <summary><b>[트러블 슈팅 1: VITE_URL 관리]</b></summary>

  ### 🔎 발생 이슈
  - 서비스별 `VITE_URL` 관리가 통일되지 않아, **배포 시 API 호출 실패(404/401/CORS)** 이 잦게 발생하였습니다.
  - 각 페이지마다 `VITE_API_URL`, `VITE_BRANCH_URL`, `VITE_ORDERING_URL`을 제각각 선언하여 슬래시(`//`) 중복 및 경로 불일치 문제가 발생했습니다.

  ### 🧩 원인 분석
  - Ingress 기반 배포로 변경된 이후에도 Gateway 시절의 URL 하드코딩이 그대로 남아 있었습니다.
  - 각 모듈에서 baseURL을 따로 계산하거나 직접 조합해 사용하면서 **서비스 간 일관성이 깨졌습니다.**

  ### 🛠️ 해결 방법
  1. `.env` 파일 구조를 단순화하여 **VITE_API_URL만 핵심으로 유지**하고, 다른 URL은 자동으로 유도되도록 변경했습니다.
  2. Axios 인스턴스에서 이 리졸버를 import하여, **어떤 서비스든 동일한 baseURL 계산 로직**을 따르도록 수정했습니다.

  ### ✅ 최종 결과
  - 모든 환경(dev/stage/prod)에서 API 경로가 일관되게 적용되었고, **배포 후에도 CORS나 404 오류가 사라졌습니다.**
  - 서비스별 코드 중복이 제거되어 유지보수가 쉬워졌으며, URL 관리 정책이 명확히 정립되었습니다.

</details>

---

<details>
    <summary><b>[트러블 슈팅 2: JWT 관리]</b></summary>

  ### 🔎 발생 이슈
  - Gateway 제거 후 Ingress 기반으로 서비스가 분리되면서, **JWT가 서비스 간 이동 시 전파되지 않아 로그인 세션이 끊어졌습니다.**
  - 각 서비스가 토큰을 독립적으로 검증하다 보니, Authorization 헤더 누락 또는 쿠키 불일치로 **401 Unauthorized** 응답이 빈번하게 발생했습니다.

  ### 🧩 원인 분석
  - `JwtTokenFilter`가 각 서비스마다 독립 동작하면서 **JWT Propagation(전달)**이 이루어지지 않았습니다.
  - FeignClient 호출 시 SecurityContext의 토큰이 자동 부착되지 않아 **서버 간 요청이 인증되지 않는 문제**가 있었습니다.

  ### 🛠️ 해결 방법
  1. **FeignAuthInterceptor**를 도입해, 서버 간 호출 시 현재 SecurityContext의 토큰을 자동으로 전달하도록 구현했습니다.
  2. **/auth/introspect** API를 추가해, 각 서비스가 공통 규격으로 토큰 유효성 검사를 수행하도록 표준화했습니다.
  3. 프론트엔드 Axios Interceptor에서 모든 요청에 `Authorization: Bearer {token}` 헤더를 자동으로 부착하도록 수정했습니다.

  ### ✅ 최종 결과
  - 서비스 간 이동 시에도 로그인 세션이 유지되며, **JWT 인증이 일관된 구조로 안정화되었습니다.**
  - 추후 OAuth나 RT/AT 재발급 로직이 추가되어도 동일한 구조로 확장 가능하게 되었습니다.

</details>

---

<details>
    <summary><b>[트러블 슈팅 3: 근태 비즈니스 로직]</b></summary>

  ### 🔎 발생 이슈
  - **야간 근무(자정 교차)** 스케줄을 백엔드와 프론트에서 각각 분리 저장해, 한쪽을 수정해도 다른 쪽에 반영되지 않았습니다.
  - 근무 상태(PLANNED, CLOCKED_IN, LEAVE 등)도 화면별로 따로 정의되어, 색상/명칭/로직이 전부 어긋났습니다.

  ### 🧩 원인 분석
  - 프론트에서 “보이는 대로 저장”하는 구조로 설계되어, 자정이 넘어가는 근무를 **A/B 두 개의 일정으로 분리**했습니다.
  - 이로 인해 한쪽만 PATCH할 경우 원본 스케줄과 동기화되지 않아 데이터 불일치가 발생했습니다.
  - 또한, 근무 상태 상수를 각 페이지(캘린더/모달/모바일 등)에서 별도로 선언하여 **싱크가 완전히 깨졌습니다.**

  ### 🛠️ 해결 방법
  1. 스케줄은 항상 **1개의 원본(Schedule)** 으로만 저장하고, 렌더링 시에만 `splitForCalendar()` 유틸로 A/B 세그먼트를 나누도록 변경했습니다.
  2. 수정/삭제 시 항상 **pairId(원본 scheduleId)** 를 기준으로 PATCH하도록 API 구조를 통합했습니다.

  ### ✅ 최종 결과
  - 야간근무 A/B 데이터 불일치 문제가 완전히 해소되었으며, 모든 화면에서 동일한 상태/색상으로 표시됩니다.
  - 근태 데이터가 단일 원본으로 관리되면서 유지보수성이 크게 향상되었고, **비즈니스 로직의 일관성과 신뢰성이 확보되었습니다.**

</details>

### 이승지

<details>
<summary><b>[트러블 슈팅 1: 동시성 문제]</b></summary>

### 🔎 발생 이슈
- 프로모션 기간에 동일 상품 주문이 동시에 몰리면, 재고가 5개여도 6건 이상 결제가 완료되어 실재고가 음수가 됨.

### 🧩 원인 분석
- 재고 차감 시 단순 JPA 트랜잭션만 사용해 서로 다른 인스턴스에서 동시에 최신 재고를 읽을 수 있었음.
- DB 행 락이 커밋 시점까지 공유돼 Lost Update가 발생했고, JVM synchronized로는 멀티 인스턴스를 막을 수 없었음.

### 🛠️ 해결 방법
- Redisson 기반 DistributedLockService를 도입해 분산 락을 획득.
- 동시에 여러 사용자가 같은 상품을 주문하더라도 분산 락을 통해 재고 차감이 순차적으로 처리되도록 보장
- 트랜잭션 커밋까지 락을 유지하고, 락 획득 실패 시 사용자에게 “재고 처리 중” 메시지를 반환.

### ✅ 최종 결과
- Redis TTL 기반으로 락이 자동 해제되어, 장애 시에도 락이 영구 점유되지 않음.
- 사용자에게는 재고 부족 시점에 즉시 안내 메시지가 노출되고, 실재고와 주문 내역 간 불일치 현상이 제거됨.

</details>

<details>
<summary><b>[트러블 슈팅 2: N+1 문제]</b></summary>

### 🔎 발생 이슈
- 지점 재고 목록과 자동 발주 화면에서 상품 옵션 정보를 불러올 때, 요청 수만큼 개별 쿼리가 반복돼 DB 부하가 급격히 상승.
- 옵션 상위 타입을 읽으려 할 때 영속성 컨텍스트가 이미 닫혀 예외 발생

### 🧩 원인 분석
- 상품 정보는 ‘지점 상품 → 옵션 유형 → 옵션 값’의 계층 구조로 되어 있었지만, 이 관계가 모두 지연 로딩으로 설정되어 있었음.
- 재고 목록을 불러올 때 각 상품마다 추가 조회가 발생하면서 N+1 쿼리 문제가 발생했고, 세션이 닫힌 시점에 옵션 정보를 접근하면서 예외가  발생함. 그 결과, 재고 화면과 자동 발주 화면의 응답 속도가 느려지고, 특정 시점에서는 옵션 정보가 표시되지 않는 현상이 나타남.

### 🛠️ 해결 방법
- 상품과 옵션 정보를 한 번에 불러올 수 있도록 조회 방식을 개선하여, 옵션 값과 상위 속성이 함께 조회되도록 처리함.
- 재고 및 자동 발주 관련 API가 개선된 조회 방식을 사용하도록 일괄 적용함.
- 부하 테스트를 수행해, 불필요한 쿼리 반복이 제거되고 응답 속도가 개선된 것을 확인함.

### ✅ 최종 결과
- 상품 조회 시 쿼리 호출 수가 크게 줄어, 응답 속도가 단축되고 DB 부하가 완화됨.
- 세션 종료로 인한 예외가 재발하지 않으며, 재고 및 발주 기능이 보다 안정적으로 동작함.
  
</details>


### 최재혁

#### Elasticsearch 기동/메모리/싱글노드 이슈

##### 🔎 발생 이슈
- Docker로 ES 기동 시 부트스트랩 체크 실패 또는 OOM
- 개발 환경에서 단일 노드인데 클러스터 구성 오류 발생

##### 🧩 원인 분석
- discovery.type 미설정으로 멀티노드 절차 요구
- 컨테이너 메모리 제한과 ES JVM 힙 설정 불일치
- 인덱스 생성 시 매핑 충돌로 인덱싱 실패

##### 🛠️ 해결 방법
1. 싱글 노드 설정
    - elasticsearch.yml에 discovery.type: single-node 지정
2. JVM 힙 크기 조정
    - 컨테이너 가용 메모리의 50% 내에서 ES_JAVA_OPTS로 -Xms, -Xmx 일치
3. 인덱스 템플릿/매핑 사전 정의
    - 동적 매핑으로 인한 타입 충돌 방지
4. 기동(예시, Windows cmd):
```shell
6. docker-compose up -d elasticsearch kibana
```

##### ✅ 최종 결과
- 개발 환경에서 ES 안정 기동 및 Kibana 접속 OK
- 매핑/템플릿 정리로 인덱싱 실패 감소, 검색 품질 향상

<details>
    <summary><b>[트러블 슈팅 2: 문제 요약]</b></summary>
    
### 🔎 발생 이슈
- [발생한 문제점에 대해 서술해 주세요.]

### 🧩 원인 분석
- [문제의 원인을 분석한 내용을 서술해 주세요.]

### 🛠️ 해결 방법
- [문제를 해결한 과정을 순서대로 서술해 주세요.]

### ✅ 최종 결과
- [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>

<details>
    <summary><b>[트러블 슈팅 3: 문제 요약]</b></summary>

  ### 🔎 발생 이슈
  - [발생한 문제점에 대해 서술해 주세요.]

  ### 🧩 원인 분석
  - [문제의 원인을 분석한 내용을 서술해 주세요.]

  ### 🛠️ 해결 방법
  - [문제를 해결한 과정을 순서대로 서술해 주세요.]

  ### ✅ 최종 결과
  - [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>


### 김상환

<details>
    <summary><b>[트러블 슈팅 1: MSA 환경에서 서비스 간 JWT 토큰 전달 문제]</b></summary>

### 🔎 발생 이슈
- [주문 서비스에서 지점 서비스나 상품 서비스를 Feign Client로 호출할 때, 인증 토큰이 전달되지 않아 401 Unauthorized 에러가 발생함.]
- [사용자는 로그인 상태인데도 다른 서비스 호출 시 인증 실패로 주문 프로세스가 중단됨.]

### 🧩 원인 분석
- [Spring Security로 JWT 인증은 정상 작동했으나, Feign Client는 기본적으로 요청 헤더를 자동으로 전달하지 않음.]
- [각 마이크로서비스가 독립적으로 실행되어, 주문 서비스에서 다른 서비스를 호출할 때 원본 요청의 Authorization 헤더가 포함되지 않았음.]
- [API Gateway 없이 직접 서비스 간 통신을 하다 보니, 토큰 전파 메커니즘이 구현되지 않은 상태였음.]

### 🛠️ 해결 방법
- [Feign Client용 RequestInterceptor를 구현하여 모든 Feign 요청에 JWT 토큰을 자동으로 추가하도록 개선.]
- [SecurityContextHolder에서 현재 인증 토큰을 가져와 요청 헤더에 삽입하는 방식으로 구현.]
- [각 서비스의 Feign Configuration에 인터셉터를 등록하여, 서비스 간 호출 시 자동으로 토큰이 전달되도록 처리.]

### ✅ 최종 결과
- [주문 생성 시 지점 정보 조회, 상품 재고 확인 등 서비스 간 통신이 인증 문제 없이 정상 작동함.]
- [사용자 인증 상태가 모든 마이크로서비스 호출에서 유지되어, 주문 플로우가 끊김없이 진행됨.]
- [MSA 환경에서 인증 토큰 전파의 중요성을 체감하고, 향후 API Gateway 도입 시 참고할 패턴을 학습함.]

</details>

<details>
    <summary><b>[트러블 슈팅 2: 장바구니 다중 지점 주문으로 인한 비즈니스 로직 복잡도 증가]</b></summary>

### 🔎 발생 이슈
- [사용자가 여러 지점의 상품을 장바구니에 담은 후 주문 시, 각 지점별로 주문을 분리해야 하는지, 하나로 합쳐야 하는지 불명확했음.]
- [매출 집계, 재고 관리, 배송 처리 등에서 주문이 어느 지점 소속인지 판단하기 어려워 비즈니스 로직이 복잡해짐.]

### 🧩 원인 분석
- [초기 설계에서 장바구니는 여러 지점의 상품을 자유롭게 담을 수 있도록 구현되었음.]
- [그러나 Care Up은 프랜차이즈 시스템으로, 각 주문은 특정 지점의 매출로 귀속되어야 하며, 지점별 재고 관리가 필수였음.]
- [여러 지점 상품을 한 주문으로 처리하면 매출 분배, 배송 책임, 재고 차감 등에서 복잡한 예외 처리가 필요했음.]

### 🛠️ 해결 방법
- [장바구니 레벨에서 단일 지점 제약 조건을 추가: 첫 상품을 담을 때 지점이 고정되고, 다른 지점 상품 추가 시 에러 메시지 반환.]
- [주문 엔티티에 branch_id를 필수값으로 설정하여, 모든 주문이 명확한 지점 소속을 갖도록 데이터 모델 개선.]
- [사용자가 다른 지점 상품을 원할 경우, 기존 장바구니를 비우고 새로 담도록 프론트엔드에서 안내 메시지 표시.]

### ✅ 최종 결과
- [주문-지점 관계가 1:1로 단순화되어, 매출 집계와 재고 관리 로직이 명확해짐.]
- [지점별 정산과 KPI 추적이 용이해져, 프랜차이즈 본사-가맹점 간 투명한 운영이 가능해짐.]
- [비즈니스 요구사항을 충족하면서도 시스템 복잡도를 낮추는 설계의 중요성을 배움.]

</details>
 
### 배포 공통 트러블 슈팅

<details>
    <summary><b>[트러블 슈팅 1: 문제 요약]</b></summary>

### 🔎 발생 이슈
- [발생한 문제점에 대해 서술해 주세요.]

### 🧩 원인 분석
- [문제의 원인을 분석한 내용을 서술해 주세요.]

### 🛠️ 해결 방법
- [문제를 해결한 과정을 순서대로 서술해 주세요.]

### ✅ 최종 결과
- [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>

<details>
    <summary><b>[트러블 슈팅 2: 문제 요약]</b></summary>

### 🔎 발생 이슈
- [발생한 문제점에 대해 서술해 주세요.]

### 🧩 원인 분석
- [문제의 원인을 분석한 내용을 서술해 주세요.]

### 🛠️ 해결 방법
- [문제를 해결한 과정을 순서대로 서술해 주세요.]

### ✅ 최종 결과
- [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>

<details>
    <summary><b>[트러블 슈팅 3: 문제 요약]</b></summary>

### 🔎 발생 이슈
- [발생한 문제점에 대해 서술해 주세요.]

### 🧩 원인 분석
- [문제의 원인을 분석한 내용을 서술해 주세요.]

### 🛠️ 해결 방법
- [문제를 해결한 과정을 순서대로 서술해 주세요.]

### ✅ 최종 결과
- [해결 결과 및 배운 점, 개선된 점을 서술해 주세요.]

</details>


## 📝 프로젝트 회고

| 팀원 | 회고 내용 |
|------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 김진우 | [프로젝트를 통해 배우고 느낀 점, 아쉬웠던 점, 향후 다짐 등을 자유롭게 작성해 주세요.] |
| 임성후 | [프로젝트를 통해 배우고 느낀 점, 아쉬웠던 점, 향후 다짐 등을 자유롭게 작성해 주세요.] |
| 이승지 | [프로젝트를 통해 배우고 느낀 점, 아쉬웠던 점, 향후 다짐 등을 자유롭게 작성해 주세요.] |
| 최재혁 | Spring Boot, Kafka 등 핵심 백엔드 기술을 이론뿐만 아니라 실제 프로젝트에 적용해 보며, 시스템이 어떻게 작동하는지 실전적으로 배울 수 있어 즐거웠습니다. 특히 Elasticsearch 같은 새로운 검색 기술을 도입하는 과정에서 큰 재미와 보람을 느꼈습니다.<br>KPI, 예상 매출, 로열티 정산 등 생소한 비즈니스 도메인을 구현하는 데 어려움을 겪었습니다. 복잡한 비즈니스 로직과 사전 조사에 많은 시간을 할애했음에도, 모든 기능을 완벽하게 구현하지 못해 아쉬움이 남습니다.<br>프론트엔드 개발 경험에 더해 이번 기회로 백엔드 내공을 다질 수 있었습니다. 앞으로 실무나 개인 프로젝트에서 기존 기술은 물론, 새로운 기술을 접목하고 활용할 수 있는 기술적 안목을 계속 길러나가겠습니다. |
| 김상환 | [자바,스프링 백엔드기반 모듈러식 프로젝트를 하다가 MSA기반 프로젝트를 하니 다양한 기술이 있고 그안에서 많은 기술을 배웠습니다 MSA의 장단점과 모듈식의 장단점을 꺠닫게 되는 프로젝트였고 아쉬운점은 고도화작업이 미흡하다는점이 아쉬웠습니다. 향후에는 고도화된 기술들을 프로젝트에 많이 도입하고싶습니다.] |
